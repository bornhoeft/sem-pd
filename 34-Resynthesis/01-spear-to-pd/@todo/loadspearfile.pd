#N canvas 340 62 738 600 10;
#X obj 50 202 list split 2;
#X obj 191 264 list split 3;
#X obj 212 353 unpack 0 1 2;
#X floatatom 154 410 5 0 0 0 - - -;
#X obj 154 430 f;
#X obj 193 409 + 1;
#X msg 154 389 0;
#X obj 50 266 list split 1;
#X obj 53 329 f;
#X floatatom 87 330 5 0 0 0 - - -;
#X obj 50 286 select partials-count;
#X obj 50 390 f;
#X floatatom 87 376 5 0 0 0 - - -;
#X obj 50 354 select frame-count;
#X obj 50 172 textfile;
#X msg 50 102 rewind;
#X obj 72 147 until;
#X obj 72 127 bang;
#X text 110 147 keep sending bangs until we hit EOF;
#X text 107 172 read a line;
#X text 137 447 time counter;
#X text 56 250 header vars;
#X obj 250 331 list;
#X text 207 368 index freq mag;
#X obj 191 286 trigger b b l;
#X obj 84 227 trigger l b;
#X obj 266 391 f;
#X obj 262 441 f;
#X msg 50 55 read \$1 cr;
#X msg 157 510 \; frqarray resize 0 \; frqarray resize \$1 \; magarray
resize 0 \; magarray resize \$1 \;;
#X obj 266 415 tabwrite magarray;
#X obj 262 466 tabwrite frqarray;
#X obj 157 487 *;
#X text 131 580 Size arrays as npartials x frames;
#X obj 212 384 *;
#X text 357 488 values are written to entry index x frame-count + time
;
#X obj 225 409 +;
#X text 139 199 First two items are either header fields or time and
harmonic count;
#X text 293 329 iterate down list processing three items at a time
;
#X obj 50 33 inlet;
#X obj 57 438 outlet;
#X obj 87 481 outlet;
#X text 41 456 partials-count;
#X text 77 499 frame-count;
#X obj 50 78 t b a;
#X obj 283 176 s fileread;
#X text 350 177 tell rest of patch that new file is read;
#X text 99 31 input is name of SPEAR analysis file to read;
#X text 130 53 instruct [textfile] to read it in \, with carriage return
line breaks;
#X text 421 543 loadspearfile.pd;
#X text 422 573 2013-02-20 Dan Ellis dpwe@ee.columbia.edu;
#X text 422 558 Read in data file written by SPEAR;
#X text 202 246 Remaining items in data lines are triples of <idx frq
mag>;
#X obj 26 426 print;
#X floatatom 84 307 5 0 0 0 - - -;
#X connect 0 0 7 0;
#X connect 0 1 25 0;
#X connect 1 0 24 0;
#X connect 1 1 22 1;
#X connect 2 0 34 0;
#X connect 2 1 27 1;
#X connect 2 2 26 1;
#X connect 3 0 4 1;
#X connect 3 0 36 1;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 6 0 3 0;
#X connect 7 0 10 0;
#X connect 7 0 13 0;
#X connect 7 1 54 0;
#X connect 8 0 9 0;
#X connect 9 0 32 1;
#X connect 9 0 40 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 11 0 53 0;
#X connect 12 0 32 0;
#X connect 12 0 34 1;
#X connect 12 0 41 0;
#X connect 13 0 11 0;
#X connect 13 0 6 0;
#X connect 14 0 0 0;
#X connect 14 1 16 1;
#X connect 14 1 45 0;
#X connect 15 0 14 0;
#X connect 15 0 17 0;
#X connect 16 0 14 0;
#X connect 17 0 16 0;
#X connect 22 0 1 0;
#X connect 24 0 22 0;
#X connect 24 1 26 0;
#X connect 24 1 27 0;
#X connect 24 2 2 0;
#X connect 25 0 1 0;
#X connect 25 1 4 0;
#X connect 26 0 30 0;
#X connect 27 0 31 0;
#X connect 28 0 44 0;
#X connect 32 0 29 0;
#X connect 34 0 36 0;
#X connect 36 0 31 1;
#X connect 36 0 30 1;
#X connect 39 0 28 0;
#X connect 44 0 15 0;
#X connect 44 1 14 0;
#X connect 54 0 8 1;
#X connect 54 0 11 1;
